# MCP（Model Context Protocol）のセキュリティに関する考察：現状と課題

## 1. はじめに

本レポートは、The New Stackの記事「Building With MCP? Mind the Security Gaps」を基に、Model Context Protocol (MCP) のセキュリティに関する現状と課題を客観的に分析する。MCPは、大規模言語モデル（LLM）ベースのAIエージェントと外部データソース（MCPサーバー）を接続するためのオープンソース仕様であり、AI技術の発展において重要な役割を担う可能性がある。しかし、記事ではMCPのセキュリティに関する懸念が指摘されており、その詳細を検証する。

## 2. MCPの概要と普及状況

MCPは、Anthropicによって開発された、AIエージェントとAPI間の通信を標準化するためのプロトコルである。記事によると、MCPは「AIのUSB-Cポート」と表現され、その普及は急速に進んでいる。

* **MCPサーバーの増加:** 記事公開時点で、8,000以上のMCPサーバーが運用されていると報告されている。
* **主要企業の採用:** OpenAIがMCPの採用を決定するなど、主要なAIプラットフォームがMCPを導入している。
* **開発効率の向上:** Digidopのような早期採用者は、開発時間と複雑さの削減を報告している。

これらの状況から、MCPはAI技術の標準化と効率化に貢献する可能性を秘めていることがわかる。

## 3. セキュリティ上の懸念点

MCPの急速な普及の一方で、セキュリティに関する懸念も浮上している。記事では、MCPのセキュリティギャップが指摘されており、特に以下の点が問題視されている。

* **デフォルトでの認証欠如:** MCPは、デフォルトで認証機能を備えていない。
* **ツールポイズニング攻撃:** 不正なMCPサーバーが、ツール記述に隠された命令を埋め込むことで、AIエージェントの動作を乗っ取る攻撃。
* **その他の攻撃手法:** Rug pulls、ツールシャドウイング、リモートコマンド実行など、様々な攻撃手法の可能性。

これらの脆弱性により、MCPを利用したシステムは、機密情報の漏洩や不正な操作のリスクにさらされる可能性がある。

## 4. 脆弱性の詳細と対策

記事では、MCPの脆弱性に関する具体的な事例と、それに対する対策が提示されている。

### 4.1. ツールポイズニング攻撃

ツールポイズニング攻撃は、AIエージェントが接続するMCPサーバーのツール記述に、悪意のある命令を埋め込むことで行われる。これにより、AIエージェントは、ユーザーが意図しない動作を行う可能性がある。

### 4.2. 対策

記事では、以下の対策が推奨されている。

* **脆弱性スキャン:** MCPサーバーの脆弱性を定期的にスキャンする。
* **認証の実装:** 認証機能を実装し、不正アクセスを防ぐ。
* **信頼できるIDプロバイダーの利用:** 信頼できるIDプロバイダーを利用して、認証を強化する。
* **最小権限の適用:** ツールへのアクセス権限を最小限に制限する。

### 4.3. ローカルMCPサーバーのリスク

ローカルMCPサーバーは、パブリックレジストリから取得した第三者のパッケージを利用することが多く、マルウェア混入のリスクが高い。

### 4.4. 対策

* **安易なダウンロードと利用の回避:** 信頼できないMCPサーバーを安易にダウンロードして利用しない。
* **ツール記述の検証:** ツール記述が適切に検証され、安全であることを確認する。
* **安全なAPI設計:** 既存のAPIセキュリティ対策をMCPサーバーにも適用する。

## 5. 今後の展望と課題

MCPのセキュリティを確保するためには、今後の改善とコミュニティの協力が不可欠である。

* **標準化されたレジストリ:** MCPサーバーの標準化されたレジストリを構築し、サーバーの信頼性を向上させる。
* **認証とサンドボックス化:** デフォルトで認証とサンドボックス化を実装し、セキュリティを強化する。
* **コミュニティへの参加:** コミュニティがMCPの仕様策定に積極的に参加し、セキュリティに関する議論を行う。

## 6. 結論

MCPは、AI技術の発展を加速させる可能性を秘めているが、セキュリティに関する課題も存在する。ツールポイズニング攻撃やローカルMCPサーバーのリスクなど、様々な脆弱性に対処するためには、開発者による適切な対策と、MCPの仕様改善、コミュニティの協力が不可欠である。MCPのセキュリティ対策は、AI技術の安全な利用を促進し、その潜在能力を最大限に引き出すために重要な課題である。


**元記事:** [Building With MCP Mind the Security Gaps - The New Stack](https://thenewstack.io/building-with-mcp-mind-the-security-gaps/)